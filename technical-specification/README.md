# Техническое задание (ТЗ)
## Наименование проекта: Trudion

##### Описание:
**Trudion** — это веб-сервис, который позволяет пользователям находить напарников для совместного изучения различных дисциплин и тем, таких как иностранные языки, программирование, подготовка к экзаменам и решение математических задач. Основной функционал сервиса строится на подборе пользователей по интересам и предпочтениям с возможностью коммуникации через чаты и уведомления.

---

### 1. Основные функции
#### Presentation Layer (Frontend):
##### Страницы:
- Авторизации
- Регистрации
- Профиля
- Главная (страница для поиска напарников)
- Коммуникаций
##### Навигационная панель:
- Переход на главную страницу
- Переход на страницу коммуникаций
- Панель уведомлений
- Панель настроек
- Переход на страницу профиля



#### Business Logic Layer (BL Layer):
- Регистрация, авторизация и генерация токена пользователя
- Поиск людей по маркерам
- Упорядочение пользователей по интересам
- Редактирование профиля
- Обмен сообщениями (чаты)
- Чат с техподдержкой
- Механизм банов пользователей

#### Data Service Layer:
- Получение и изменение информации профиля
- Создание новых профилей
- Получение истории переписки
- Фильтрация пользователей по маркерам
- Проверка лайков и количества маркеров
- Получение списка уведомлений

#### Database Layer:
- Модель данных представлена на ER-диаграмме (см. прикрепленное изображение).

---

### 2. Роли пользователей
#### 1. Стандартный пользователь
##### Описание: 
- Может регистрироваться
- редактировать профиль
- искать напарников
- обмениваться сообщениями
- получать уведомления.
##### Ответственность: 
- Активное использование системы для поиска напарников.
##### Количество пользователей:
- Потенциально неограниченное.
#### 2. Администратор

##### Описание: 
- Управляет системой
- блокирует пользователей
- обеспечивает поддержку.
##### Ответственность: 
- Поддержание работоспособности и безопасности системы.
##### Количество пользователей:
- Ограниченное.

---

### 3. Технологический стек
- **Frontend**: Vue.ts
- **Backend**: Golang
- **СУБД**: PostgreSQL
- **UI Design**: Разработка интерфейсов в Figma с последующей реализацией на frontend.

---

### 4. Данные и ограничения

#### Основные данные:
- **Пользователи**: данные о профиле, статусе и предпочтениях

- **Маркеры** (labels): интересы и фильтры для поиска

- **Сообщения**: переписка между пользователями

- **Уведомления**: статус взаимодействий

- **Лайки**: симпатии между пользователями

- **Блокировки**: данные о заблокированных пользователях

#### Ограничения целостности данных:

- Уникальность **email** и **username** для каждого пользователя

- Проверка корректности маркеров (связи с таблицей Labels_info)

- Ограничение на отправку сообщений (например, только между взаимно заинтересованными пользователями)

---

### 5. UI и детали интерфейса

#### Цветовая палитра:
- Основные цвета фона, текста и кнопок (#FFFFFF, #000000, #355299 и другие)
- Цвета ошибок: #993535, #B18888
#### Шрифты: 
- IBM Plex Sans (размеры и начертания для заголовков и текста)

#### Скругления элементов:
- Объекты — 30px
- Кнопки — 40px

---

### 6. ER-диаграмма
Прикрепленная диаграмма отражает структуру данных и связи между таблицами. 

![image](https://github.com/user-attachments/assets/5733038b-4b7c-4ccb-80d7-f8925f3ffb3f)



#### Основные таблицы:

- **Users**: данные пользователей
- **Likes**: статусы симпатий
- **Messages**: переписка
- **Notifications**: уведомления
- **Blocks**: блокировки пользователей
- **Labels_info** / **User_labels**: маркеры интересов

---

### 7. Дополнительно
#### Транзакции: 
##### Описание операций, например:
- Создание нового профиля: транзакция включает создание записи в **Users** и начальную настройку **User_labels**.
- Отправка сообщения: запись в **Messages** с обновлением времени последней активности пользователя.


### 8. Скрипты для развертывания системы
#### Описание структур данных
В реализации использовался язык Golang, а также библиотека GORM для работы с базами данных. При запуске приложения происходят миграции баз данных в соответствии со структурами данных, определенных в файле models.go. Это требуется для корректной работы GORM
